# Phase 2: ãƒ†ã‚¹ãƒˆå°å…¥

## ğŸ¯ Phase 2 ã®ç›®æ¨™

Phase 1ã§ä½œæˆã—ãŸãƒ­ã‚°è§£æãƒ„ãƒ¼ãƒ«ã«ãƒ†ã‚¹ãƒˆã‚’å¾Œä»˜ã‘ã§è¿½åŠ ã—ã¾ã™ã€‚
ãƒ†ã‚¹ãƒˆã®é‡è¦æ€§ã‚’ä½“æ„Ÿã—ã€pytestã®åŸºæœ¬çš„ãªä½¿ã„æ–¹ã‚’å­¦ç¿’ã—ã¾ã™ã€‚

## â° æ¨å®šå­¦ç¿’æ™‚é–“

- **ç·æ™‚é–“**: 8-10æ™‚é–“
- **pyteståŸºç¤å­¦ç¿’**: 2-3æ™‚é–“
- **æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¸ã®ãƒ†ã‚¹ãƒˆè¿½åŠ **: 6-7æ™‚é–“

## ğŸ“š å­¦ç¿’å†…å®¹

### 1. ãƒ†ã‚¹ãƒˆã®åŸºç¤ç†è§£
- ãƒ†ã‚¹ãƒˆã‚’æ›¸ãç†ç”±ã¨ãƒ¡ãƒªãƒƒãƒˆ
- å˜ä½“ãƒ†ã‚¹ãƒˆã®è€ƒãˆæ–¹
- pytestã®åŸºæœ¬æ¦‚å¿µ

### 2. pyteståŸºç¤
- ãƒ†ã‚¹ãƒˆé–¢æ•°ã®æ›¸ãæ–¹
- ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆassertæ–‡ï¼‰
- ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ–¹æ³•
- ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆã®èª­ã¿æ–¹

### 3. å®Ÿè·µçš„ãªãƒ†ã‚¹ãƒˆä½œæˆ
- æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ãƒ†ã‚¹ãƒˆè¨­è¨ˆ
- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è€ƒãˆæ–¹
- ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®å¯¾å¿œ
- ãƒ¢ãƒƒã‚¯ãƒ»ãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ã®åŸºæœ¬

## ğŸ” ãªãœãƒ†ã‚¹ãƒˆãŒé‡è¦ãªã®ã‹ï¼Ÿ

Phase 1ã§ã¯ã€Œã¨ã‚Šã‚ãˆãšå‹•ãã‚‚ã®ã€ã‚’ä½œã‚Šã¾ã—ãŸãŒã€ä»¥ä¸‹ã®ã‚ˆã†ãªå•é¡ŒãŒã‚ã‚Šã¾ã™ï¼š

- **ãƒã‚°ã®ç™ºè¦‹ãŒå›°é›£**: ä¿®æ­£å¾Œã«æ—¢å­˜æ©Ÿèƒ½ãŒå£Šã‚Œã¦ã‚‚æ°—ã¥ã‹ãªã„
- **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒæ€–ã„**: ã‚³ãƒ¼ãƒ‰æ”¹å–„æ™‚ã«ä½•ãŒå£Šã‚Œã‚‹ã‹ã‚ã‹ã‚‰ãªã„
- **ä»•æ§˜ã®ä¸æ˜ç¢ºã•**: æœŸå¾…ã™ã‚‹å‹•ä½œãŒæ›–æ˜§
- **å“è³ªã®æ‹…ä¿ãªã—**: æ­£ã—ãå‹•ã„ã¦ã„ã‚‹ã‹ã®å®¢è¦³çš„ç¢ºèªãŒãªã„

ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã“ã¨ã§ã€ã“ã‚Œã‚‰ã®å•é¡Œã‚’è§£æ±ºã§ãã¾ã™ã€‚

## ğŸ“‹ å­¦ç¿’æ‰‹é †

### Step 1: pyteståŸºç¤å­¦ç¿’ï¼ˆ2-3æ™‚é–“ï¼‰

#### 1.1 pytest ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª
```bash
# pytest ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã‹ç¢ºèª
uv run pytest --version

# ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
uv run pytest tests/ -v
```

> **é‡è¦**: ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯å¿…ãš `uv run pytest` ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
> è©³ç´°ãªå®Ÿè¡Œæ–¹æ³•ã¯ [pytestã‚¬ã‚¤ãƒ‰](../pytest-guide.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

#### 1.2 æœ€åˆã®ãƒ†ã‚¹ãƒˆä½œæˆ

**tests/test_basic.py**
```python
def test_simple_addition():
    """æœ€ã‚‚åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆ"""
    assert 1 + 1 == 2

def test_string_operations():
    """æ–‡å­—åˆ—æ“ä½œã®ãƒ†ã‚¹ãƒˆ"""
    text = "Hello, World!"
    assert len(text) == 13
    assert text.upper() == "HELLO, WORLD!"
    assert "World" in text
```

**ç·´ç¿’1**: ä¸Šè¨˜ã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€å®Ÿè¡Œã—ã¦ã¿ã¦ãã ã•ã„ã€‚

```bash
uv run pytest tests/phase2/test_basic.py -v
```

#### 1.3 ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã®ç¨®é¡

**tests/test_assertions.py**
```python
def test_equality():
    """ç­‰ä¾¡æ€§ã®ãƒ†ã‚¹ãƒˆ"""
    assert 5 == 5
    assert "hello" == "hello"
    assert [1, 2, 3] == [1, 2, 3]

def test_truthiness():
    """çœŸå½å€¤ã®ãƒ†ã‚¹ãƒˆ"""
    assert True
    assert not False
    assert "non-empty string"  # ç©ºã§ãªã„æ–‡å­—åˆ—ã¯True
    assert [1, 2, 3]  # ç©ºã§ãªã„ãƒªã‚¹ãƒˆã¯True

def test_comparisons():
    """æ¯”è¼ƒã®ãƒ†ã‚¹ãƒˆ"""
    assert 10 > 5
    assert 3 <= 3
    assert 2.5 >= 2.0

def test_membership():
    """åŒ…å«é–¢ä¿‚ã®ãƒ†ã‚¹ãƒˆ"""
    assert "hello" in "hello world"
    assert 3 in [1, 2, 3, 4]
    assert "key" in {"key": "value"}

def test_types():
    """å‹ãƒã‚§ãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆ"""
    assert isinstance(42, int)
    assert isinstance("hello", str)
    assert isinstance([1, 2, 3], list)
```

**ç·´ç¿’2**: ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã®ç·´ç¿’ã‚’ã—ã¦ãã ã•ã„ã€‚

### Step 2: Phase 1 ã‚³ãƒ¼ãƒ‰ã®ãƒ†ã‚¹ãƒˆè¨­è¨ˆï¼ˆ1-2æ™‚é–“ï¼‰

#### 2.1 ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®åˆ†æ

Phase 1ã§ä½œæˆã—ãŸãƒ­ã‚°è§£æãƒ„ãƒ¼ãƒ«ã®å„æ©Ÿèƒ½ã‚’åˆ†æã—ã€ãƒ†ã‚¹ãƒˆãŒå¿…è¦ãªéƒ¨åˆ†ã‚’ç‰¹å®šã—ã¾ã™ã€‚

**ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®æ©Ÿèƒ½**:
1. `parse_log_line()` - ãƒ­ã‚°è¡Œã®è§£æ
2. `parse_error_log_line()` - ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®è§£æ  
3. `read_log_file()` - ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
4. `filter_by_level()` - ãƒ¬ãƒ™ãƒ«åˆ¥ãƒ•ã‚£ãƒ«ã‚¿
5. `search_keyword()` - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢
6. `count_by_level()` - ãƒ¬ãƒ™ãƒ«åˆ¥é›†è¨ˆ
7. `export_to_csv()` - CSVå‡ºåŠ›

#### 2.2 ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è¨­è¨ˆ

å„æ©Ÿèƒ½ã«ã¤ã„ã¦ã€ä»¥ä¸‹ã®è¦³ç‚¹ã§ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è€ƒãˆã¾ã™ï¼š

**æ­£å¸¸ç³»ï¼ˆHappy Pathï¼‰**:
- æœŸå¾…é€šã‚Šã®å…¥åŠ›ã§æœŸå¾…é€šã‚Šã®å‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã‚‹ã‹

**ç•°å¸¸ç³»ï¼ˆEdge Casesï¼‰**:
- ä¸æ­£ãªå…¥åŠ›ã‚„æƒ³å®šå¤–ã®çŠ¶æ³ã§ã®å‹•ä½œ

**å¢ƒç•Œå€¤ï¼ˆBoundary Casesï¼‰**:
- ç©ºæ–‡å­—ã€Noneã€æœ€å¤§å€¤ãƒ»æœ€å°å€¤ã§ã®å‹•ä½œ

### Step 3: å®Ÿéš›ã®ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆ4-5æ™‚é–“ï¼‰

#### 3.1 ãƒ­ã‚°è§£æé–¢æ•°ã®ãƒ†ã‚¹ãƒˆ

**tests/test_log_parser.py**
```python
"""
ãƒ­ã‚°è§£ææ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ

ã€èª²é¡Œ1ã€‘
ä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚
Phase 1ã§ä½œæˆã—ãŸé–¢æ•°ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚
"""

import pytest
from src.practice_string_parse import parse_log_line, parse_error_log_line


class TestLogParser:
    """ãƒ­ã‚°è§£æã®ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹"""
    
    def test_parse_access_log_success(self):
        """æ­£å¸¸ãªã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã®è§£æãƒ†ã‚¹ãƒˆ"""
        # TODO: å®Ÿè£…ã—ã¦ãã ã•ã„
        pass
    
    def test_parse_access_log_with_message(self):
        """ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä»˜ãã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã®è§£æãƒ†ã‚¹ãƒˆ"""
        # TODO: å®Ÿè£…ã—ã¦ãã ã•ã„
        pass
    
    def test_parse_access_log_invalid_format(self):
        """ä¸æ­£ãªå½¢å¼ã®ãƒ­ã‚°ã®è§£æãƒ†ã‚¹ãƒˆ"""
        # TODO: å®Ÿè£…ã—ã¦ãã ã•ã„
        pass
    
    def test_parse_access_log_empty_line(self):
        """ç©ºè¡Œã®è§£æãƒ†ã‚¹ãƒˆ"""
        # TODO: å®Ÿè£…ã—ã¦ãã ã•ã„
        pass
    
    def test_parse_error_log_success(self):
        """æ­£å¸¸ãªã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®è§£æãƒ†ã‚¹ãƒˆ"""
        # TODO: å®Ÿè£…ã—ã¦ãã ã•ã„
        pass
    
    def test_parse_error_log_invalid_format(self):
        """ä¸æ­£ãªå½¢å¼ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®è§£æãƒ†ã‚¹ãƒˆ"""
        # TODO: å®Ÿè£…ã—ã¦ãã ã•ã„
        pass
```

**å®Ÿè£…ä¾‹** (å­¦ç¿’è€…ãŒå‚è€ƒã«ã§ãã‚‹ã‚ˆã†ã€ä¸€éƒ¨å®Ÿè£…ä¾‹ã‚’ç¤ºã™):
```python
def test_parse_access_log_success(self):
    """æ­£å¸¸ãªã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã®è§£æãƒ†ã‚¹ãƒˆ"""
    line = "2024-01-15 09:23:45 INFO GET /api/users 200 45ms"
    result = parse_log_line(line)
    
    expected = {
        'date': '2024-01-15',
        'time': '09:23:45',
        'level': 'INFO',
        'method': 'GET',
        'path': '/api/users',
        'status': '200',
        'message': '45ms'
    }
    
    assert result == expected
```

#### 3.2 LogAnalyzerã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ

**tests/test_log_analyzer.py**
```python
"""
LogAnalyzerã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ

ã€èª²é¡Œ2ã€‘
LogAnalyzerã‚¯ãƒ©ã‚¹ã®å„ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚
"""

import pytest
import tempfile
import os
from src.log_analyzer import LogAnalyzer


class TestLogAnalyzer:
    """LogAnalyzerã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹"""
    
    @pytest.fixture
    def analyzer(self):
        """ãƒ†ã‚¹ãƒˆç”¨ã®LogAnalyzerã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆ"""
        return LogAnalyzer()
    
    @pytest.fixture
    def sample_log_file(self):
        """ãƒ†ã‚¹ãƒˆç”¨ã®ä¸€æ™‚ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ"""
        # TODO: å®Ÿè£…ã—ã¦ãã ã•ã„
        pass
    
    def test_read_log_file_success(self, analyzer, sample_log_file):
        """ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿æˆåŠŸã®ãƒ†ã‚¹ãƒˆ"""
        # TODO: å®Ÿè£…ã—ã¦ãã ã•ã„
        pass
    
    def test_read_log_file_not_found(self, analyzer):
        """å­˜åœ¨ã—ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆ"""
        # TODO: å®Ÿè£…ã—ã¦ãã ã•ã„
        pass
    
    def test_filter_by_level(self, analyzer):
        """ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ãƒ•ã‚£ãƒ«ã‚¿ã®ãƒ†ã‚¹ãƒˆ"""
        # TODO: å®Ÿè£…ã—ã¦ãã ã•ã„
        pass
    
    def test_search_keyword(self, analyzer):
        """ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ã®ãƒ†ã‚¹ãƒˆ"""
        # TODO: å®Ÿè£…ã—ã¦ãã ã•ã„
        pass
    
    def test_count_by_level(self, analyzer):
        """ãƒ¬ãƒ™ãƒ«åˆ¥é›†è¨ˆã®ãƒ†ã‚¹ãƒˆ"""
        # TODO: å®Ÿè£…ã—ã¦ãã ã•ã„
        pass
    
    def test_export_to_csv(self, analyzer):
        """CSVå‡ºåŠ›ã®ãƒ†ã‚¹ãƒˆ"""
        # TODO: å®Ÿè£…ã—ã¦ãã ã•ã„
        pass
```

#### 3.3 pytest fixtures ã®æ´»ç”¨

**tests/conftest.py**
```python
"""
pytestè¨­å®šã¨ãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£

å…±é€šçš„ã«ä½¿ç”¨ã™ã‚‹ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚„ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’å®šç¾©ã—ã¾ã™ã€‚
"""

import pytest
import tempfile
import os
from typing import List, Dict


@pytest.fixture
def sample_log_data():
    """ãƒ†ã‚¹ãƒˆç”¨ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿"""
    return [
        {
            'date': '2024-01-15',
            'time': '09:23:45',
            'level': 'INFO',
            'method': 'GET',
            'path': '/api/users',
            'status': '200',
            'message': '45ms'
        },
        {
            'date': '2024-01-15',
            'time': '09:24:33',
            'level': 'ERROR',
            'method': 'GET',
            'path': '/api/data',
            'status': '500',
            'message': 'Database connection failed'
        },
        {
            'date': '2024-01-15',
            'time': '09:25:15',
            'level': 'WARNING',
            'method': 'GET',
            'path': '/api/reports',
            'status': '404',
            'message': 'Resource not found'
        }
    ]


@pytest.fixture
def temp_log_file():
    """ä¸€æ™‚çš„ãªãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ"""
    content = """2024-01-15 09:23:45 INFO GET /api/users 200 45ms
2024-01-15 09:24:33 ERROR GET /api/data 500 234ms Database connection failed
2024-01-15 09:25:15 WARNING GET /api/reports 404 12ms Resource not found"""
    
    # ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
    with tempfile.NamedTemporaryFile(mode='w', delete=False, suffix='.log') as f:
        f.write(content)
        temp_file_path = f.name
    
    yield temp_file_path
    
    # ãƒ†ã‚¹ãƒˆå¾Œã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
    os.unlink(temp_file_path)


@pytest.fixture
def temp_csv_file():
    """ä¸€æ™‚çš„ãªCSVãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’æä¾›"""
    with tempfile.NamedTemporaryFile(mode='w', delete=False, suffix='.csv') as f:
        temp_file_path = f.name
    
    yield temp_file_path
    
    # ãƒ†ã‚¹ãƒˆå¾Œã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
    if os.path.exists(temp_file_path):
        os.unlink(temp_file_path)
```

### Step 4: ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œã¨æ”¹å–„ï¼ˆ1-2æ™‚é–“ï¼‰

#### 4.1 ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
uv run pytest

# è©³ç´°ãªå‡ºåŠ›ã§å®Ÿè¡Œ
uv run pytest -v

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿å®Ÿè¡Œ
uv run pytest tests/phase2/test_log_parser.py -v

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ãã§å®Ÿè¡Œ
uv run pytest --cov=src --cov-report=html
```

#### 4.2 ãƒ†ã‚¹ãƒˆçµæœã®åˆ†æ

ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå¾Œã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¾ã™ï¼š

- **å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆ**: ãªãœå¤±æ•—ã—ãŸã®ã‹åŸå› ã‚’èª¿æŸ»
- **ã‚«ãƒãƒ¬ãƒƒã‚¸**: ã©ã®éƒ¨åˆ†ãŒãƒ†ã‚¹ãƒˆã•ã‚Œã¦ã„ãªã„ã‹
- **å®Ÿè¡Œæ™‚é–“**: ãƒ†ã‚¹ãƒˆãŒé…ã™ããªã„ã‹

#### 4.3 Phase 1 ã‚³ãƒ¼ãƒ‰ã®æ”¹å–„

ãƒ†ã‚¹ãƒˆã‚’æ›¸ãéç¨‹ã§ã€Phase 1ã®ã‚³ãƒ¼ãƒ‰ã«å•é¡ŒãŒè¦‹ã¤ã‹ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ï¼š

- **ãƒã‚°ã®ç™ºè¦‹**: ãƒ†ã‚¹ãƒˆã«ã‚ˆã£ã¦éš ã‚Œã¦ã„ãŸãƒã‚°ãŒè¦‹ã¤ã‹ã‚‹
- **è¨­è¨ˆã®å•é¡Œ**: ãƒ†ã‚¹ãƒˆã—ã«ãã„ã‚³ãƒ¼ãƒ‰ã¯è¨­è¨ˆã«å•é¡ŒãŒã‚ã‚‹å ´åˆãŒå¤šã„
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä¸è¶³**: ç•°å¸¸ç³»ã®ãƒ†ã‚¹ãƒˆã§ä¸å‚™ãŒç™ºè¦š

**ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®ä¾‹**:
```python
# æ”¹å–„å‰: ãƒ†ã‚¹ãƒˆã—ã«ãã„
def process_log_file(file_path):
    # ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ã€è§£æã€ãƒ•ã‚£ãƒ«ã‚¿ã€å‡ºåŠ›ãŒã™ã¹ã¦ä¸€ã¤ã®é–¢æ•°
    pass

# æ”¹å–„å¾Œ: å„æ©Ÿèƒ½ã‚’åˆ†é›¢ã—ã¦ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã
def read_log_file(file_path):
    pass

def parse_logs(raw_data):
    pass

def filter_logs(logs, criteria):
    pass

def export_results(data, output_path):
    pass
```

## ğŸ“ å®Œæˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

Phase 2 å®Œäº†æ™‚ã«ä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

### åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆ
- [ ] `parse_log_line()` ã®æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆ
- [ ] `parse_log_line()` ã®ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆ
- [ ] `parse_error_log_line()` ã®æ­£å¸¸ç³»ãƒ»ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆ

### LogAnalyzerã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
- [ ] ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ¬ãƒ™ãƒ«åˆ¥é›†è¨ˆæ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
- [ ] CSVå‡ºåŠ›æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆå“è³ª
- [ ] å„ãƒ†ã‚¹ãƒˆãŒç‹¬ç«‹ã—ã¦å®Ÿè¡Œã§ãã‚‹
- [ ] ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’é©åˆ‡ã«æº–å‚™ãƒ»ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã—ã¦ã„ã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã‚‚å«ã‚ã¦ç¶²ç¾…çš„ã«ãƒ†ã‚¹ãƒˆã—ã¦ã„ã‚‹
- [ ] ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ™‚é–“ãŒé©åˆ‡ï¼ˆå…¨ä½“ã§30ç§’ä»¥å†…ï¼‰

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- [ ] `uv run pytest` ã§ã‚¨ãƒ©ãƒ¼ãªãå®Ÿè¡Œã§ãã‚‹
- [ ] ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒ70%ä»¥ä¸Šã‚ã‚‹
- [ ] ç¶™ç¶šçš„ã«ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ç¿’æ…£ãŒã§ãã¦ã„ã‚‹

## ğŸ‰ Phase 2 å®Œäº†å¾Œ

### å­¦ã‚“ã ã“ã¨ã®æŒ¯ã‚Šè¿”ã‚Š
- ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã“ã¨ã§è¦‹ã¤ã‹ã£ãŸãƒã‚°ã‚„å•é¡Œã¯ä½•ã§ã—ãŸã‹ï¼Ÿ
- ãƒ†ã‚¹ãƒˆã‚’æ›¸ãå‰ã¨å¾Œã§ã€ã‚³ãƒ¼ãƒ‰ã«å¯¾ã™ã‚‹å®‰å¿ƒæ„Ÿã¯ã©ã†å¤‰ã‚ã‚Šã¾ã—ãŸã‹ï¼Ÿ
- ã©ã®ãƒ†ã‚¹ãƒˆãŒä¸€ç•ªæ›¸ãã«ãã‹ã£ãŸã§ã™ã‹ï¼Ÿãã®ç†ç”±ã¯ï¼Ÿ

### æ¬¡ã®Phase 3ã¸ã®æº–å‚™
Phase 3ã§ã¯ã€Œãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼ˆTDDï¼‰ã€ã‚’å­¦ç¿’ã—ã¾ã™ï¼š
- Red: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
- Green: ãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰
- Refactor: ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„

Phase 2ã§ã€Œå¾Œã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚’æ›¸ãå¤§å¤‰ã•ã€ã‚’ä½“é¨“ã—ãŸã®ã§ã€Phase 3ã§ã¯ã€Œæœ€åˆã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã€ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’å­¦ç¿’ã—ã¾ã—ã‚‡ã†ã€‚

## ğŸ’¡ ãƒ†ã‚¹ãƒˆä½œæˆã®ã‚³ãƒ„

### 1. å°ã•ãå§‹ã‚ã‚‹
- æœ€åˆã¯ç°¡å˜ãªé–¢æ•°ã‹ã‚‰
- è¤‡é›‘ãªãƒ†ã‚¹ãƒˆã¯æ®µéšçš„ã«ä½œæˆ

### 2. èª­ã¿ã‚„ã™ã„ãƒ†ã‚¹ãƒˆ
- ãƒ†ã‚¹ãƒˆåã§ä½•ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã„ã‚‹ã‹æ˜ç¢ºã«
- Given-When-Then ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ´»ç”¨

### 3. ç‹¬ç«‹æ€§ã®ç¢ºä¿
- ãƒ†ã‚¹ãƒˆé–“ã§çŠ¶æ…‹ã‚’å…±æœ‰ã—ãªã„
- å®Ÿè¡Œé †åºã«ä¾å­˜ã—ãªã„

### 4. ç¾å®Ÿçš„ãªãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
- å®Ÿéš›ã®ä½¿ç”¨å ´é¢ã«è¿‘ã„ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨
- ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚‚å¿˜ã‚Œãšã«

## ğŸ“š å‚è€ƒè³‡æ–™

- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…pytestã‚¬ã‚¤ãƒ‰](../pytest-guide.md) - æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå°‚ç”¨ã®pytestå®Ÿè¡Œã‚¬ã‚¤ãƒ‰
- [pytestå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.pytest.org/)
- [Python Testing 101](https://python-testing-101.readthedocs.io/)
- [Effective Python Testing](https://testdriven.io/)