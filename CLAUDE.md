# Python バックエンド開発トレーニング - 設計メモ

## プロジェクト概要

エンジニア初学者のバックエンド技術力向上を目的としたトレーニングプロジェクト。
特にTDD（テスト駆動開発）の習得を重視。

## 対象者

- Python基礎
- Git基本操作
- プログラミング経験は浅いが基本は理解

## 期間・スケジュール

- **期間**: 約3ヶ月
- **頻度**: 火〜金曜日（週4日）
- **時間**: 1日1時間
- **総学習時間**: 約48時間
- **環境**: フルリモート、Windows端末、devcontainer使用

## 学習方針

### TDD重視の段階的アプローチ
1. 最初から完全TDDではなく、段階的にTDDを導入
2. 成功体験を積んでからTDDの価値を実感させる
3. Red-Green-Refactorサイクルの徹底的な習得

### 学習フローの設計理念
- **Phase 1**: テストなしで基礎を固める（成功体験）
- **Phase 2**: 既存コードにテスト後付け（テストの重要性を体感）
- **Phase 3**: TDD実践（新機能をテストファーストで開発）
- **Phase 4-5**: Web開発にTDDを適用

## プロジェクト構成

### ブランチ戦略
- `main`: 学習前の初期状態を維持
- `develop_[作業者名]`: 個人の作業ブランチ
- 各Phase完了時にPull Request作成
- コードレビュー後、develop_result_作業者名にマージ

### ディレクトリ構成
```
python-backend-training/
├── .devcontainer/     # uv + devcontainer環境
├── src/              # 段階的に機能追加
├── tests/            # テストコード
├── docs/             # 充実した学習ドキュメント
└── README.md
```

## 各Phase詳細

### Phase 1: CLIアプリケーション開発（12-15時間）
**目標**: Python基礎とバックエンド要素の習得（テストなし）

**技術要素**:
- ファイル入出力（CSV、JSON）
- 例外処理・エラーハンドリング
- ログ出力
- 基本的なデータ構造（リスト、辞書）
- 外部ライブラリ使用

**除外要素**:
- コマンドライン引数処理（微妙なため除外）
- 設定ファイル読み込み（FastAPIのpydantic-settingsで後で学習）

**成果物**: 学習者が実際に使えるCLIツール（内容は後でヒアリング）

### Phase 2: テスト導入（8-10時間）
**目標**: テストの重要性を理解し、既存コードにテストを追加

**学習内容**:
- pytestの基本的な使い方
- 単体テストの書き方
- テストケースの設計
- 既存コードへのテスト後付け

### Phase 3: TDD実践（10-12時間）
**目標**: テスト駆動開発の習得

**学習内容**:
- Red-Green-Refactorサイクル
- テストファーストでの開発
- 新機能をTDDで追加
- リファクタリングの実践

### Phase 4: Web API開発（12-15時間）
**目標**: WebアプリケーションとREST APIの基礎

**学習内容**:
- FastAPIの基本
- REST APIの設計
- HTTPメソッド（GET、POST、PUT、DELETE）
- JSONでのデータ交換
- APIテストの書き方

### Phase 5: 応用技術（残り時間）
**目標**: 実践的なバックエンド技術の習得

**学習内容**:
- データベース接続（SQLite → PostgreSQL）
- 認証・認可（JWT）
- CI/CD（GitHub Actions）

## 学習支援体制

### ドキュメント
- 各Phaseの詳細手順書（`docs/phase-X/README.md`）
- コメント付きサンプルコード
- 練習問題と解答例
- フルリモート対応のトラブルシューティングガイド

### コードレビュー
- 各Phase完了時にPR作成
- 学習効果を重視したレビュー
- 実践的な開発フローの体験

### サポート体制
- 質問・相談は随時受付
- 復習・補講は必要に応じて実施
- 障害を最小限に抑える充実したドキュメント

## 技術選定理由

- **Python**: 対象者の基礎経験あり
- **uv**: モダンなPython環境管理
- **pytest**: テストフレームワークの標準
- **FastAPI**: モダンで学習しやすいWebフレームワーク
- **devcontainer**: 環境差異の解消、フルリモート対応

## 成功基準

- TDDでの開発が自然にできるようになる
- バックエンド開発の基礎技術を実践で使える
- 実際の開発フロー（ブランチ運用、PR、レビュー）を体験
- 自立して学習を継続できる基盤を構築

## 進捗確認基準

各Phaseの完了基準:
- 機能が正常に動作する
- 適切なテストが書かれている
- コードが整理されている
- ドキュメントが更新されている

## プロジェクト完成状況

### ✅ 完成した成果物

#### 1. 基本構成
- [x] プロジェクト基本構成とdevcontainer環境
- [x] pyproject.toml（uv設定、依存関係）
- [x] .gitignore
- [x] PRテンプレート
- [x] トラブルシューティングガイド

#### 2. 学習手順書
- [x] メインREADME.md（全体概要）
- [x] Phase 1: CLIアプリケーション開発
- [x] Phase 2: テスト導入
- [x] Phase 3: TDD実践
- [x] Phase 4: Web API開発 + DDD実践
- [x] Phase 5: 応用技術（DB、認証、CI/CD）

#### 3. Phase別ソースコード構成

**src/phase1/** - CLIログ解析ツール（基礎）
- practice_file_read.py（練習1: ファイル読み込み）
- practice_string_parse.py（練習2: 文字列解析）
- log_analyzer.py（メインツール）

**src/phase2/** - テスト導入（Phase 1のコードにテスト追加）
- tests/phase2/でPhase 1コードをテスト

**src/phase3/** - TDD実践（新機能をテストファーストで開発）
- calculator.py（TDD練習用）
- log_statistics.py（統計機能）
- log_filters.py（高度なフィルタ）
- report_generator.py（レポート生成）

**src/phase4/** - Web API + DDD（ドメイン駆動設計）
```
api/controllers/          # コントローラー
api/schemas/              # APIスキーマ
domain/entities/          # エンティティ（LogFile）
domain/value_objects/     # バリューオブジェクト（FileName, FileSize）
domain/services/          # ドメインサービス
domain/repositories/      # リポジトリインターフェース
infrastructure/           # インフラ層
application/use_cases/    # ユースケース
application/dto/          # DTO
```

**src/phase5/** - 応用技術（本格的なWebアプリ）
```
api/                      # REST API
auth/                     # JWT認証
database/                 # SQLAlchemy
config/                   # 設定管理
```

#### 4. テスト構成
- tests/phase2/（Phase 2: テスト基礎）
- tests/phase3/（Phase 3: TDD実践）
- tests/phase4/（Phase 4: DDD + API テスト）
- tests/phase5/（Phase 5: 統合テスト）

#### 5. 学習サポート資料
- docs/troubleshooting.md（フルリモート対応）
- .github/pull_request_template/（PRテンプレート）
- data/sample_logs/（サンプルデータ）

## 技術選定の最終決定

### Phase 1: Python基礎 + CLI開発
- **ツール**: CLIログ解析ツール（業務で実用的）
- **学習要素**: ファイルI/O、例外処理、ログ出力、外部ライブラリ
- **除外**: コマンドライン引数処理、設定ファイル読み込み

### Phase 2: テスト導入
- **手法**: 既存コードへのテスト後付け
- **フレームワーク**: pytest
- **学習要素**: アサーション、フィクスチャ、テストケース設計

### Phase 3: TDD実践
- **手法**: Red-Green-Refactorサイクル
- **新機能**: 統計分析、高度なフィルタ、レポート生成
- **重要**: テストファーストの習慣化

### Phase 4: Web API + DDD
- **フレームワーク**: FastAPI
- **アーキテクチャ**: ドメイン駆動設計（DDD）
- **レイヤー**: プレゼンテーション、アプリケーション、ドメイン、インフラ
- **パターン**: エンティティ、バリューオブジェクト、リポジトリ、ユースケース

### Phase 5: 応用技術
- **データベース**: SQLAlchemy（SQLite → PostgreSQL）
- **認証**: JWT + bcrypt
- **CI/CD**: GitHub Actions
- **本番対応**: Docker、環境変数、設定管理

## 学習フローの設計理念

### 段階的スキル習得
1. **Phase 1**: 成功体験（動くものを作る）
2. **Phase 2**: テストの重要性を体感（後付けテストの大変さ）
3. **Phase 3**: TDDの価値を実感（テストファーストの楽さ）
4. **Phase 4**: 設計の重要性を学習（DDDによる保守性）
5. **Phase 5**: 本格的な実装（プロダクションレディ）

### TDD重視のアプローチ
- Phase 2で「テストなしの怖さ」を体験
- Phase 3で「TDDの安心感」を体験
- Phase 4-5でTDDを当たり前の習慣に

### 実践的な内容
- 業務で使えるログ解析ツール
- 現場で必要な技術スタック
- 実際の開発フロー（ブランチ、PR、レビュー）

## プロジェクト構成の工夫

### Phase別ディレクトリ分離
```
src/
├── phase1/    # CLI基礎
├── phase2/    # テスト導入（ファイルなし、testsで実践）
├── phase3/    # TDD実践
├── phase4/    # Web API + DDD
└── phase5/    # 応用技術
```

**利点**:
- 段階的な学習が可能
- 各Phaseが独立
- インポートパスでPhase明確
- 後戻りして復習しやすい

### 充実した学習サポート
- **詳細手順書**: 各PhaseのREADME.md
- **実践的課題**: TODOコメントで段階的実装
- **サンプルデータ**: 実際のログファイル
- **トラブルシューティング**: フルリモート対応

### フルリモート対応
- **devcontainer**: 環境差異の解消
- **詳細ドキュメント**: 障害を最小限に
- **トラブルシューティングガイド**: よくある問題と解決方法

## DDDの追加（Phase 4拡張）

### DDD導入の理由
- TDD習得後の自然なステップアップ
- 保守性の高い設計を学習
- 実際の業務で重要なアーキテクチャスキル

### DDD学習要素
- **エンティティ**: `LogFile`（アイデンティティ + ビジネスルール）
- **バリューオブジェクト**: `FileName`, `FileSize`（不変 + バリデーション）
- **ドメインサービス**: `LogAnalysisDomainService`（複雑なロジック）
- **リポジトリ**: `ILogFileRepository`（データアクセス抽象化）
- **ユースケース**: `UploadLogFileUseCase`（アプリケーションフロー）

### レイヤードアーキテクチャ
```
API層 → アプリケーション層 → ドメイン層 ← インフラ層
```

## 成功基準

### 技術スキル
- [x] Python基礎とバックエンド要素
- [x] テスト作成（pytest）
- [x] TDD実践（Red-Green-Refactor）
- [x] Web API開発（FastAPI）
- [x] DDD基礎（設計パターン）
- [x] データベース連携（SQLAlchemy）
- [x] 認証実装（JWT）
- [x] CI/CD（GitHub Actions）

### 開発習慣
- TDDでの開発が自然にできる
- ドメインモデリングを意識した設計
- 適切なテストケース設計
- Git・PRフローの理解

### 実用的成果物
- 業務で使えるログ解析ツール
- 本格的なWeb API
- プロダクションレディなアプリケーション

## 学習時間設計

### 総学習時間: 48時間（3ヶ月、週4日、1日1時間）
- **Phase 1**: 12-15時間（CLI基礎）
- **Phase 2**: 8-10時間（テスト導入）
- **Phase 3**: 10-12時間（TDD実践）
- **Phase 4**: 15-18時間（Web API + DDD）
- **Phase 5**: 残り時間（応用技術）

### 1日の学習フロー
- 前回復習: 5-10分
- 新機能実装: 30分（実コーディング）
- エラー対応・理解確認: 15-20分
- 次回予習・メモ: 5分

## 今後の展開可能性

### さらなる学習ステップ
1. **マイクロサービス**: サービス分割、通信パターン
2. **Kubernetes**: コンテナオーケストレーション
3. **監視・ログ集約**: Prometheus、ELK Stack
4. **パフォーマンス最適化**: プロファイリング、キャッシュ戦略

### 実際のプロダクト開発
- 学習した技術を実際のプロジェクトで活用
- チーム開発（コードレビュー、ペアプログラミング）
- アジャイル開発プロセス

## 完成したトレーニングプロジェクトの価値

1. **実践的**: 業務で使える技術とツール
2. **段階的**: 無理のない学習ステップ
3. **網羅的**: バックエンド開発の基礎を包括
4. **現代的**: モダンな技術スタック
5. **習慣化**: TDDとDDDを自然な開発手法に

このプロジェクトにより、新卒未経験エンジニアが3ヶ月で実践的なバックエンド開発スキルを習得し、TDD・DDDを身につけた即戦力エンジニアに成長できる基盤が完成しました。